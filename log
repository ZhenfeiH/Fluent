for d in lnamd64/[23]*; do \
	  ( \
	    cd $d; \
	    for f in ../../src/*.[ch] ../../src/makefile; do \
	      if [ ! -f `basename $f` ]; then \
	        echo "# linking to" $f "in" $d; \
	        ln -s $f .; \
	      fi; \
	    done; \
	    echo ""; \
	    echo "# building library in" $d; \
	    if [ "" = "1" ]; then \
		echo "# using gcc64"; \
		make ARCHC=gcc64 -k>makelog 2>&1; \
	    else \
		if [ "" = "1" ]; then \
			echo "# using gcc"; \
			make ARCHC=gcc -k>makelog 2>&1; \
		else \
			make -k>makelog 2>&1; \
		fi; \
	    fi;\
	    cat makelog; \
	  ) \
	done

# building library in lnamd64/3d_host
make[1]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'
make[2]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'
make libudf.so "CFLAGS=-D_lnamd64 -D_GNU_SOURCE -fpic -shared -ansi -Wall -O -DPTR_RESTRICT=	" "LDFLAGS=-shared -lm"
make[3]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'
make[3]: `libudf.so' is up to date.
make[3]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'
make[2]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'
make[1]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_host'

# building library in lnamd64/3d_node
make[1]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
make[2]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
make libudf.so "CFLAGS=-D_lnamd64 -D_GNU_SOURCE -fpic -shared -ansi -Wall -O -DPTR_RESTRICT=	" "LDFLAGS=-shared -lm"
make[3]: Entering directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
make[3]: `libudf.so' is up to date.
make[3]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
make[2]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
make[1]: Leaving directory `/nfs/stak/students/r/rymalc/Documents/Programming/C/Fluent/libudf/lnamd64/3d_node'
